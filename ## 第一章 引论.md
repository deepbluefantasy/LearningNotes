## 第一章 引论
编译原理作用：将高级语言转变为机器语言
### 1.1 程序设计语言与编译
1. 程序设计语言
    * 机器语言（01串）
    * 汇编语言：对机器语言进行抽象
        * 缺点：**只能针对某型号的机器**
    * 高级语言
2. 程序设计语言的转换
    * 翻译：在**不改变语义**的条件下，将A语言转换为B语言
    * 解释：翻译一句执行一句
        * eg：python->机器语言
        * 特点：不产生目标代码，边解释边执行
        * 优点：直观简单
        * 缺点：效率低（每次都要重新解释源文件）
    * 编译：专指由高级语言完整地转换为低级语言
        * eg：C语言->机器语言
        * 2个阶段的编译：编译->运行 （直接生成机器码）
        * 3个阶段的编译：编译->汇编->运行 （先生成汇编程序，再生成机器码）
> 有的目标代码是exe文件，可以直接执行；有的是obj文件，需要link后执行
### 1.2 编译程序概述
1. 编译程序的工作
    1. 词法分析
        1. 任务：识别**单词**，转换为同一规格
        2. 转换：
            1. 对基本字、运算符、界限符的转换
            2. 标识符的转换
            3. 常数的转换
            4. 转换后的格式：类号、内码
        3. 描述词法规则的有效工具：正规式、有限自动机
    2. 语法分析
        1. 任务：把单词组成**短语、语句、过程、程序**
        2. 语法规则：又称文法，规定单词如何构成短语、语句、过程、程序
        3. 语法规则的表示： -BNF: A::=B|C
        4. 语法分析的方法
            1. 推导
            2. 规约
            3. 计算机使用语法树的方式进行推导和规约
    3. 语义分析和中间代码生成
        1. 任务：进行初步翻译
        2. 2个阶段的工作：
            1. 语义检查
            2. 若语义正确，翻译中间代码
    4. 优化
        1. 任务：产生更高效的目标代码
        2. 原则：等价变换
        3. 主要方面：公共子表达式、合并已知量、删除无用语句、循环优化（只保留循环内的必须代码）
    5. 目标代码生成
        1. 任务：把经优化的中间代码转换为特定机器上的中间代码
        2. 目标代码形式
            1. 绝对指令代码：exe
            2. 汇编指令代码：需要经过汇编
            3. 可重定位指令代码：obj
> 2、3更普遍，因为exe跟特定机器相关，可移植性不强
    6. 表格与表格管理
        1. 作用：用来记录信息
        2. 与编译前三阶段有关的表格：符号表、常数表、标号表、入口名表、中间代码表
    7. 出错处理
        1. 任务：设法发现源程序的错误
        2. 完成：由专门的出错程序完成
        3. 错误类型：
            1. 语法错误：在词法分析、语法分析阶段检测
            2. 语义错误：在语义分析阶段检测
> 语法错误很难通过编译器检测出来
    8. 遍
        1. 含义：**从头到尾把源程序或中间结果扫描一次**，并做有关的加工处理，生成新的中间结果或目标代码
> 遍与阶段的含义毫无关系
        2. 多遍扫描
            1. 优点：节省内存空间、提高目标代码质量，使编译的逻辑结构清晰
            2. 缺点：编译时间较长
> 在内存许可的情况下，遍数少一些为好
### 1.3 编译程序生成
1. 直接用机器语言编写编译程序
2. 用汇编语言编写编译程序
> 编译程序核心部分常用汇编语言编写
3. 用高级语言编写编译程序
> 这是普遍采用的方法
4. 自编译
5. 编译工具：
    1. LEX（词法分析）与YACC（用于自动产生LALR分析表）
6. 移植：同种语言的编译程序在不同类型的机器之间移植
### 1.4 编译程序构造
在某机器上为某种语言构造编译程序要掌握一下三个方面
* 源语言
* 目标语言
* 编译方法

### 本章小结
* 掌握编译程序与高级语言的关系
* 掌握编译分为哪几个阶段
* 了解各个极端完成的主要功能和采用的主要方法
